<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="x-task" attributes="description done ondone" on-click="{{toggleDone}}">
	<template>
		<div>
			<input id="check" type="checkbox" checked="{{done}}">
			<span id="desc">{{description}}</span>
		</div>
	</template>
	<script>
		Polymer({
			ondone: function() {},
			publish: {
				description: { value: '', reflect: true },
				done: { value: false, reflect: true }
			},
			ready: function() {
				this.addEventListener('done', function(e) {
					this.ondone(e);
				});
			},
			toggleDone: function() {
				this.done = !this.done;
				this.$.desc.style.textDecoration = this.done ? 'line-through' : '';
				this.fire('done', this.done);
			}
		});
	</script>
</polymer-element>